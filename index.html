<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Salma's Supreme Realm ğŸ‘‘</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@400;700;900&family=Orbitron:wght@800&display=swap" rel="stylesheet">
    <style>
        :root { 
            --main: #ff007f; 
            --bg: #0f0c29; 
            --bg-gradient: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
            --card: rgba(255, 255, 255, 0.05); 
            --border: rgba(255, 255, 255, 0.1);
            --text: #fff; 
            --gold: #ffd700;
            --success: #00e676;
            --danger: #ff1744;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { margin: 0; background: var(--bg-gradient); color: var(--text); font-family: 'Cairo', sans-serif; overflow: hidden; height: 100vh; transition: 0.5s; }

        .stars-container { position: fixed; top: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle var(--d) infinite; opacity: 0; }
        @keyframes twinkle { 0% { opacity: 0; transform: scale(0.5); } 50% { opacity: 0.8; transform: scale(1.2); } 100% { opacity: 0; transform: scale(0.5); } }

        .container { height: 100vh; display: flex; flex-direction: column; padding: 20px; overflow-y: auto; padding-bottom: 110px; scrollbar-width: none; }
        .container::-webkit-scrollbar { display: none; }
        
        section { display: none; animation: slideUp 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28); }
        section.active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(40px) scale(0.9); } to { opacity: 1; transform: translateY(0) scale(1); } }

        .card { 
            background: var(--card); 
            border: 1px solid var(--border); 
            backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
            border-radius: 24px; padding: 20px; margin-bottom: 20px; 
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            position: relative; overflow: hidden;
        }

        h1 { text-align: center; margin-bottom: 20px; font-weight: 900; letter-spacing: -0.5px; text-shadow: 0 5px 15px rgba(0,0,0,0.3); }

        .item-row { 
            background: rgba(255,255,255,0.03); padding: 18px; border-radius: 18px; margin-bottom: 12px; 
            display: flex; justify-content: space-between; align-items: center; 
            border: 1px solid transparent; cursor: pointer; transition: 0.3s; 
        }
        .item-row.done { background: linear-gradient(90deg, rgba(255,255,255,0.1), transparent); border-right: 4px solid var(--main); }
        
        .late-badge { background: var(--danger); color: white; font-size: 0.7rem; padding: 2px 8px; border-radius: 10px; margin-left: 10px; animation: pulse 1s infinite; display: none; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        .navbar { 
            position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%); 
            width: 95%; height: 75px; background: rgba(20, 20, 20, 0.85); backdrop-filter: blur(20px); 
            border-radius: 40px; display: flex; justify-content: space-evenly; align-items: center; 
            border: 1px solid rgba(255,255,255,0.15); box-shadow: 0 10px 40px rgba(0,0,0,0.5); z-index: 1000; 
        }
        .nav-btn { font-size: 1.6rem; opacity: 0.5; transition: 0.4s; color: white; display: flex; align-items: center; justify-content: center; width: 50px; height: 50px; border-radius: 50%; position: relative; }
        .nav-btn.active { opacity: 1; background: var(--main); color: white; transform: translateY(-20px) scale(1.1); box-shadow: 0 10px 25px var(--main); border: 2px solid #fff; }
        .nav-dot { position: absolute; top: 10px; right: 10px; width: 10px; height: 10px; background: #ff0000; border-radius: 50%; border: 1px solid #fff; display: none; }

        .btn-action { background: var(--main); color: white; border: none; padding: 18px; border-radius: 20px; width: 100%; font-weight: 900; cursor: pointer; font-family: 'Cairo'; margin-top: 10px; font-size: 1.1rem; }
        input[type="text"] { width: 100%; padding: 18px; border-radius: 18px; border: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.3); color: inherit; margin-bottom: 15px; font-family: inherit; }

        .hero-power-container { position: relative; width: 220px; height: 220px; margin: 20px auto; display: flex; align-items: center; justify-content: center; }
        .hero-ring { position: absolute; inset: 0; border-radius: 50%; border: 10px solid transparent; border-top-color: var(--main); border-left-color: var(--main); animation: spin 3s linear infinite; filter: drop-shadow(0 0 10px var(--main)); }
        .hero-number { font-size: 5rem; font-weight: 900; color: #fff; z-index: 2; text-shadow: 0 0 30px var(--main); font-family: 'Orbitron', sans-serif; }
        @keyframes spin { to { transform: rotate(360deg); } }

        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .stat-box { background: rgba(255,255,255,0.03); padding: 15px; border-radius: 20px; text-align: center; border: 1px solid rgba(255,255,255,0.05); }
        .stat-val { font-size: 1.8rem; font-weight: 900; color: var(--main); }

        .badge-card { background: rgba(255,255,255,0.05); border-radius: 24px; padding: 20px; margin-bottom: 20px; position: relative; }
        .badge-card.locked { opacity: 0.6; filter: grayscale(1); }
        .progress-bar { width: 100%; height: 8px; background: rgba(255,255,255,0.1); border-radius: 10px; overflow: hidden; margin-top: 10px; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--main), #ff5e62); transition: 1s; }

        #splash { position: fixed; inset: 0; background: #000; display: flex; align-items: center; justify-content: center; z-index: 10000; transition: 0.5s; }
        .splash-name { font-size: 5rem; font-family: 'Orbitron'; color: var(--main); text-shadow: 0 0 40px var(--main); animation: splash-pulse 2s infinite; }
        @keyframes splash-pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(8px); z-index: 20000; display: none; align-items: center; justify-content: center; padding: 25px; }
        .modal-box { background: #1a1a2e; border: 2px solid var(--main); border-radius: 30px; padding: 30px; width: 100%; text-align: center; }

        .profile-img { width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 3px solid var(--main); box-shadow: 0 0 20px var(--main); cursor: pointer; }
        .timer-badge { background: rgba(0,0,0,0.3); padding: 5px 15px; border-radius: 20px; margin-bottom: 15px; font-family: 'Orbitron'; font-size: 0.9rem; border: 1px solid var(--border); display: inline-block;}
        
        body.mode-holy { --main: #d4af37; --bg-gradient: linear-gradient(to bottom, #062c21, #0f4c3a); }
        body.mode-zen { --main: #ff85a2; --bg-gradient: linear-gradient(to top, #fff1eb 0%, #ace0f9 100%); --text: #4a4a4a; --card: rgba(255,255,255,0.65); }
    </style>
</head>
<body class="mode-comedy">

<div id="splash"><div class="splash-name">SALMA</div></div>

<div id="modal" class="modal" onclick="this.style.display='none'">
    <div class="modal-box" onclick="event.stopPropagation()">
        <h2 id="m-title"></h2>
        <p id="m-body" style="font-size: 1.2rem; margin: 20px 0;"></p>
        <button class="btn-action" onclick="document.getElementById('modal').style.display='none'">Ø§Ø³ØªÙ…Ø±Ø§Ø± âœ¨</button>
    </div>
</div>

<div class="container">
    <div style="text-align: center; margin-bottom: 20px;">
        <img id="p-img" src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='70' x='15' font-size='60'>ğŸ‘‘</text></svg>" class="profile-img" onclick="document.getElementById('img-upload').click()">
        <input type="file" id="img-upload" hidden onchange="uploadImage(this)">
        <div style="margin-top: 10px; font-weight: bold;">Ø£Ù‡Ù„Ø§Ù‹ Ø³Ù„Ù…Ù‰ ğŸ‘‹</div>
    </div>

    <div style="display: flex; justify-content: center; gap: 20px; margin-bottom: 20px;">
        <div onclick="applyMode('comedy')" style="width:35px; height:35px; background:#ff007f; border-radius:50%; cursor:pointer;"></div>
        <div onclick="applyMode('holy')" style="width:35px; height:35px; background:#d4af37; border-radius:50%; cursor:pointer;"></div>
        <div onclick="applyMode('zen')" style="width:35px; height:35px; background:#ff85a2; border-radius:50%; cursor:pointer;"></div>
    </div>

    <section id="prayers" class="active">
        <h1 id="h-prayers">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª</h1>
        <div style="text-align: center;"><div class="timer-badge" id="next-prayer-timer">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨...</div></div>
        <div class="card">
            <div class="item-row" id="fajr" onclick="markPrayer('fajr', 2, 4)"><span>ğŸŒ… ØµÙ„Ø§Ø© Ø§Ù„ÙØ¬Ø±</span> <b>Ø±ÙƒØ¹ØªØ§Ù†</b></div>
            <div class="item-row" id="dhuhr" onclick="markPrayer('dhuhr', 4, 12)"><span>â˜€ï¸ ØµÙ„Ø§Ø© Ø§Ù„Ø¸Ù‡Ø±</span> <b>Ù¤ Ø±ÙƒØ¹Ø§Øª</b></div>
            <div class="item-row" id="asr" onclick="markPrayer('asr', 4, 15)"><span>â›… ØµÙ„Ø§Ø© Ø§Ù„Ø¹ØµØ±</span> <b>Ù¤ Ø±ÙƒØ¹Ø§Øª</b></div>
            <div class="item-row" id="maghrib" onclick="markPrayer('maghrib', 3, 17)"><span>ğŸŒ† ØµÙ„Ø§Ø© Ø§Ù„Ù…ØºØ±Ø¨</span> <b>Ù£ Ø±ÙƒØ¹Ø§Øª</b></div>
            <div class="item-row" id="isha" onclick="markPrayer('isha', 4, 19)"><span>ğŸŒ™ ØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡</span> <b>Ù¤ Ø±ÙƒØ¹Ø§Øª</b></div>
        </div>
    </section>

    <section id="goals">
        <h1 id="h-goals">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù…ÙˆØ­Ø§Øª</h1>
        <div class="card">
            <input type="text" id="goal-in" placeholder="Ù…Ø§Ø°Ø§ Ø³Ù†Ù†Ø¬Ø² Ø§Ù„ÙŠÙˆÙ… ÙŠØ§ Ø³Ù„Ù…Ù‰ØŸ">
            <button class="btn-action" onclick="addGoal()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø© ğŸš€</button>
            <div id="goal-list" style="margin-top:20px;"></div>
        </div>
    </section>

    <section id="stats">
        <h1 id="h-stats">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡</h1>
        <div class="card">
            <div class="stats-grid">
                <div class="stat-box"><div>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±ÙƒØ¹Ø§Øª</div><div class="stat-val" id="st-total">0</div></div>
                <div class="stat-box"><div>Ø£ÙˆØ³Ù…Ø© Ø³Ù„Ù…Ù‰</div><div class="stat-val" id="st-badges">0</div></div>
            </div>
            <div style="text-align: center;"><div id="st-rank" style="background:var(--main); color:white; padding:10px 20px; border-radius:20px; display:inline-block;">Ù†ØµØ§Ø¨Ø© Ù„Ø³Ù‡</div></div>
        </div>
    </section>

    <section id="challenges">
        <h1 id="h-challenges">Ø±Ø­Ù„Ø© Ø§Ù„ØµØ¹ÙˆØ¯ ğŸ°</h1>
        <div id="challenges-list"></div>
    </section>

    <section id="hero">
        <h1 id="h-hero">ØªØ­Ø¯ÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ©</h1>
        <div class="card" style="text-align: center;">
            <div class="hero-power-container">
                <div class="hero-ring"></div>
                <div class="hero-number" id="hero-display">0</div>
            </div>
            <button class="btn-action" id="btn-hero-claim" onclick="claimHero()">Ø£Ù†Ø§ Ø¨Ø·Ù„Ø© Ø§Ù„ÙŠÙˆÙ… âœ¨</button>
            <button onclick="resetHero()" style="background:none; border:none; color:gray; margin-top:20px; text-decoration:underline;">ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯ ğŸ’”</button>
        </div>
    </section>
</div>

<div class="navbar">
    <div class="nav-btn active" onclick="nav('prayers', this)">ğŸ•‹</div>
    <div class="nav-btn" onclick="nav('goals', this)">ğŸ“</div>
    <div class="nav-btn" onclick="nav('stats', this)">ğŸ“Š</div>
    <div class="nav-btn" onclick="nav('challenges', this)">ğŸ†<div class="nav-dot" id="nav-dot"></div></div>
    <div class="nav-btn" onclick="nav('hero', this)">ğŸ‘‘</div>
</div>

<script>
    let db = JSON.parse(localStorage.getItem('salma_supreme_v10')) || { days:{}, goals:[], hero:0, lastH:"", totalR:0, ui:'comedy', badges:[], profilePic:"" };
    let today = new Date().toDateString();
    if(!db.days[today]) db.days[today] = { p:[], r:0 };

    const modes = {
        comedy: {
            h: ["Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª", "Ù†Ø§ÙˆÙŠØ© Ø¹Ù„Ù‰ Ø¥ÙŠÙ‡ØŸ", "Ø­ØµØ§Ø¯ Ø§Ù„Ø¹Ø¸Ù…Ø©", "Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¬Ø¨Ø±ÙˆØª", "Ø±Ø­Ù„Ø© Ø§Ù„ØµØ¹ÙˆØ¯"],
            rank: ["Ù†ØµØ§Ø¨Ø© Ù„Ø³Ù‡", "Ø³Ù„Ù…Ù‰ Ø§Ù„Ù…ÙƒØ§ÙØ­Ø©", "ÙˆØ­Ø´ ØµÙ„Ø§Ø©", "Ø£Ø³Ø·ÙˆØ±Ø© Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…"],
            cheat: "ÙŠØ§ Ø³Ù„Ù…Ù‰ Ø§Ù„ÙˆÙ‚Øª Ù„Ø³Ù‡ Ù…Ø¬Ø§Ø´ØŒ Ø¨Ù„Ø§Ø´ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù‚Ø±Ø¹ Ø¯ÙŠ! ğŸ˜‚",
            hero_btn: "Ø£Ù†Ø§ Ø¨Ø·Ù„Ø© Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ø© âœ¨"
        },
        holy: {
            h: ["Ø²Ø§Ø¯ Ø§Ù„Ø·Ø§Ø¹Ø§Øª", "Ø¨Ø³ØªØ§Ù† Ø§Ù„Ù…Ù‚Ø§ØµØ¯", "Ø³Ø¬Ù„ Ø§Ù„Ø­Ø³Ù†Ø§Øª", "Ù…Ù‚Ø§Ù… Ø§Ù„Ø«Ø¨Ø§Øª", "Ù…Ø¹Ø±Ø§Ø¬ Ø§Ù„Ø±ÙˆØ­"],
            rank: ["Ø·Ø§Ù„Ø¨Ø© Ø¹Ù„Ù…", "Ø¹Ø§Ø¨Ø¯Ø©", "Ù‚Ø§Ù†ØªØ©", "Ù…Ù† Ø£Ù‡Ù„ Ø§Ù„ØµÙ„Ø§Ø©"],
            cheat: "Ù„Ù… ÙŠØ­Ù† ÙˆÙ‚Øª Ø§Ù„ÙØ±ÙŠØ¶Ø© Ø¨Ø¹Ø¯ ÙŠØ§ Ø³Ù„Ù…Ù‰. âœ¨",
            hero_btn: "Ø«Ø¨ØªÙ†ÙŠ Ø§Ù„Ù„Ù‡ Ø§Ù„ÙŠÙˆÙ… ğŸŒ¿"
        },
        zen: {
            h: ["ÙˆÙ‚Øª Ø§Ù„Ø³ÙƒÙŠÙ†Ø©", "Ø£Ø­Ù„Ø§Ù…ÙŠ Ø§Ù„Ø¬Ù…ÙŠÙ„Ø©", "Ø±Ø­Ù„Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²", "Ø£Ù†Ø§ Ø£Ø³ØªØ·ÙŠØ¹", "Ø­Ø¯ÙŠÙ‚Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª"],
            rank: ["Ø¨Ø¯Ø§ÙŠØ© Ø±Ù‚ÙŠÙ‚Ø©", "Ø²Ù‡Ø±Ø© Ù…ØªÙØªØ­Ø©", "Ù†Ø¬Ù…Ø© Ø³Ø§Ø·Ø¹Ø©", "Ù…Ù„ÙƒØ© Ø§Ù„Ù‡Ø¯ÙˆØ¡"],
            cheat: "Ø¬Ù…ÙŠÙ„ØªÙŠ Ø³Ù„Ù…Ù‰ØŒ Ø§Ù„Ù‚Ù„ÙŠÙ„ Ù…Ù† Ø§Ù„ØµØ¨Ø±.. Ø§Ù„ÙˆÙ‚Øª Ù„Ù… ÙŠØ­Ù†. â˜ï¸",
            hero_btn: "ÙŠÙˆÙ… Ø³Ø¹ÙŠØ¯ ÙˆÙ†Ø§Ø¬Ø­ ğŸŒ¸"
        }
    };

    window.onload = () => {
        if(db.profilePic) document.getElementById('p-img').src = db.profilePic;
        applyMode(db.ui);
        updateUI();
        renderGoals();
        setInterval(updateTimer, 1000);
        setTimeout(() => {
            const sp = document.getElementById('splash');
            sp.style.opacity = '0';
            setTimeout(() => sp.style.display = 'none', 500);
        }, 1500);
    };

    function save() { localStorage.setItem('salma_supreme_v10', JSON.stringify(db)); }

    function applyMode(m) {
        db.ui = m; document.body.className = 'mode-' + m;
        const c = modes[m];
        ['prayers','goals','stats','hero','challenges'].forEach((id, i) => {
            document.getElementById('h-'+id).innerText = c.h[i];
        });
        document.getElementById('btn-hero-claim').innerText = c.hero_btn;
        save(); renderStats(); renderChallenges();
    }

    function nav(id, el) {
        document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.querySelectorAll('.nav-btn').forEach(n => n.classList.remove('active'));
        el.classList.add('active');
    }

    function markPrayer(id, r, hr) {
        let now = new Date().getHours();
        if(db.days[today].p.includes(id)) return;
        if(now < hr) return showModal("Ø¨Ø¯Ø±ÙŠ Ø£ÙˆÙŠ!", modes[db.ui].cheat);
        
        db.days[today].p.push(id); db.days[today].r += r; db.totalR += r;
        save(); updateUI();
        confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
    }

    function updateUI() {
        document.getElementById('hero-display').innerText = db.hero;
        db.days[today].p.forEach(id => {
            let el = document.getElementById(id);
            if(el) el.classList.add('done');
        });
    }

    function addGoal() {
        let val = document.getElementById('goal-in').value;
        if(!val) return;
        db.goals.push({ t: val, d: false });
        document.getElementById('goal-in').value = '';
        save(); renderGoals();
    }

    function renderGoals() {
        let list = document.getElementById('goal-list');
        list.innerHTML = '';
        db.goals.forEach((g, i) => {
            list.innerHTML += `
                <div class="item-row ${g.d ? 'done' : ''}" onclick="toggleGoal(${i})">
                    <span>${g.t}</span>
                    <span>${g.d ? 'âœ…' : 'â³'}</span>
                </div>`;
        });
    }

    function toggleGoal(i) {
        db.goals[i].d = !db.goals[i].d;
        save(); renderGoals();
        if(db.goals[i].d) confetti({ particleCount: 50, spread: 50 });
    }

    function claimHero() {
        if(db.lastH === today) return alert("ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù…Ø³Ø¨Ù‚Ø§Ù‹!");
        db.hero++; db.lastH = today; save(); updateUI();
        confetti({ particleCount: 200, shapes: ['star'] });
    }

    function resetHero() {
        if(confirm("Ù‡Ù„ Ø£Ù†ØªÙ Ù…ØªØ£ÙƒØ¯Ø© Ù…Ù† ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯ØŸ ğŸ’”")) {
            db.hero = 0; db.lastH = ""; save(); updateUI();
        }
    }

    function renderStats() {
        document.getElementById('st-total').innerText = db.totalR;
        document.getElementById('st-badges').innerText = db.badges.length;
        document.getElementById('st-rank').innerText = modes[db.ui].rank[Math.min(db.badges.length, 3)];
    }

    function renderChallenges() {
        let list = document.getElementById('challenges-list');
        list.innerHTML = '';
        const chs = [
            {id:'lvl1', t:'ÙØ±Ø§Ø´Ø© Ø§Ù„Ù†ÙˆØ± ğŸ¦‹', req:3, icon:'ğŸ¦‹'},
            {id:'lvl2', t:'Ø¬ÙˆÙ‡Ø±Ø© Ø§Ù„ÙØ¬Ø± ğŸ’', req:7, icon:'ğŸ’'},
            {id:'lvl3', t:'Ø§Ù„Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØªÙˆØ¬Ø© ğŸ‘‘', req:30, icon:'ğŸ‘‘'}
        ];
        chs.forEach(c => {
            let prog = Math.min((db.hero / c.req) * 100, 100);
            list.innerHTML += `
                <div class="badge-card ${prog < 100 ? 'locked' : ''}">
                    <div style="display:flex; align-items:center; gap:15px;">
                        <div style="font-size:2.5rem">${c.icon}</div>
                        <div><h3>${c.t}</h3><p>Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: ${c.req} Ø£ÙŠØ§Ù…</p></div>
                    </div>
                    <div class="progress-bar"><div class="progress-fill" style="width:${prog}%"></div></div>
                </div>`;
        });
    }

    function updateTimer() {
        let now = new Date();
        let times = [4, 12, 15, 17, 19];
        let next = times.find(t => t > now.getHours()) || 4;
        document.getElementById('next-prayer-timer').innerText = `Ù…ÙˆØ¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©: ${next}:00`;
    }

    function showModal(t, b) {
        document.getElementById('m-title').innerText = t;
        document.getElementById('m-body').innerText = b;
        document.getElementById('modal').style.display = 'flex';
    }

    function uploadImage(input) {
        if (input.files && input.files[0]) {
            let reader = new FileReader();
            reader.onload = (e) => {
                document.getElementById('p-img').src = e.target.result;
                db.profilePic = e.target.result; save();
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>
</body>
</html>
